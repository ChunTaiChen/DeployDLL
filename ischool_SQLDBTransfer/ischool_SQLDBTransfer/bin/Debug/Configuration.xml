<?xml version="1.0" encoding="utf-8"?>
<Configuration>
  <DSADBLocation>
    <AP Name ="SH" AccessPoint="h.kcbs.ntpc.edu.tw" ContractName="ischool.transfer01" DBServerName="ct2\sqlexpress" UserName="elearningtransfer" Password="5341569" DBName="iSchoolDB" DBUserName="test" DBPassword="test" />
    <AP Name ="JH" AccessPoint="j.kcbs.ntpc.edu.tw" ContractName="ischool.transfer01" DBServerName="ct2\sqlexpress" UserName="elearningtransfer" Password="5341569" DBName="iSchoolDB" DBUserName="test" DBPassword="test" />
    <!--<AP Name ="SH" AccessPoint="http://127.0.0.1:8080/dsa4/et" ContractName="ischool.transfer01" DBServerName="ct2\sqlexpress" UserName="admin" Password="1234" DBName="iSchoolDB" DBUserName="test" DBPassword="test" />-->
    <!--<AP Name ="JH" AccessPoint="test.j.kcbs.ntpc.edu.tw" ContractName="ischool.transfer01" DBServerName="ct2\sqlexpress" UserName="ischooluser" Password="kcbs@ischool" DBName="iSchoolDB" DBUserName="test" DBPassword="test" />-->
  </DSADBLocation> 
  <TransferJob>
    <APName>
      <Name>SH</Name>
      <Name>JH</Name>
    </APName>
    <ServiceName>data.GetClassList</ServiceName>
    <Request></Request>    
    <DBTableName>class</DBTableName>
    <Action>Insert</Action>
    <RspElementName>Class</RspElementName>
    <FieldMapping>
      <Field Source="Id" Target="id" Type="Integer" />
      <Field Source="ClassName" Target="class_name" Type="String" />
      <Field Source="SYS_AccessName" Target="dsa_source" Type="String" />
    </FieldMapping>
  </TransferJob>
  <TransferJob>
    <APName>
      <Name>SH</Name>
      <Name>JH</Name>
    </APName>
    <ServiceName>data.GetTeacherList</ServiceName>
    <Request></Request>
    <DBTableName>teacher</DBTableName>
    <Action>Insert</Action>
    <RspElementName>Teacher</RspElementName>
    <FieldMapping>
      <Field Source="TeacherName" Target="teacher_name" Type="String" />
      <Field Source="IdNumber" Target="SSN" Type="String" />
      <Field Source="TeacherLoginName" Target="login_name" Type="String" />
    </FieldMapping>
  </TransferJob>
  <TransferJob>
    <APName>
      <Name>SH</Name>
      <Name>JH</Name>
    </APName>
    <ServiceName>data.GetStudentList</ServiceName>
    <Request></Request>
    <DBTableName>student</DBTableName>
    <Action>Insert</Action>
    <RspElementName>Student</RspElementName>
    <FieldMapping>
      <Field Source="StudentID" Target="id" Type="Integer" />
      <Field Source="Name" Target="name" Type="String" />
      <Field Source="EnglishName" Target="english_name" Type="String" />
      <Field Source="IdNumber" Target="id_number" Type="String" />
      <Field Source="ClassName" Target="ref_class_name" Type="String" />
      <Field Source="MailingAddress" Target="mailing_address" Type="String" />
      <Field Source="Email" Target="email" Type="String" />
      <Field Source="FatherName" Target="father_name" Type="String" />
      <Field Source="MotherName" Target="mother_name" Type="String" />
      <Field Source="CustodianName" Target="custodian_name" Type="String" />
      <Field Source="ContactPhone" Target="contact_phone" Type="String" />
      <Field Source="StudentLoginName" Target="login_name" Type="String" />
    </FieldMapping>
  </TransferJob>
  <TransferJob>
    <APName>
      <Name>SH</Name>
      <Name>JH</Name>
    </APName>
    <ServiceName>data.GetCourseList</ServiceName>
    <RequestAddDefault>True</RequestAddDefault>
    <Request></Request>
    <DBTableName>course</DBTableName>
    <Action>Insert</Action>
    <RspElementName>Course</RspElementName>
    <FieldMapping>
      <Field Source="CourseID" Target="id" Type="Integer" />
      <Field Source="CourseName" Target="course_name" Type="String" />
      <Field Source="SchoolYear" Target="school_year" Type="Integer" />
      <Field Source="Semester" Target="semester" Type="Integer" />
      <Field Source="Credit" Target="credit" Type="Integer" />
      <Field Source="TeacherLoginName" Target="ref_teacher_login_name" Type="String" />
      <Field Source="SYS_AccessName" Target="dsa_source" Type="String" />
    </FieldMapping>
  </TransferJob>
  <TransferJob>
    <APName>
      <Name>SH</Name>
      <Name>JH</Name>
    </APName>
    <ServiceName>data.GetCourseExamList</ServiceName>
    <RequestAddDefault>True</RequestAddDefault>
    <Request></Request>
    <DBTableName>course_exam</DBTableName>
    <Action>Insert</Action>
    <RspElementName>CourseExam</RspElementName>
    <FieldMapping>
      <Field Source="CourseName" Target="ref_course_name" Type="String" />
      <Field Source="ExamName" Target="exam_name" Type="String" />
      <Field Source="ExamID" Target="ref_exam_id" Type="String" />
      <Field Source="Weight" Target="weight" Type="Integer" />
    </FieldMapping>
  </TransferJob>
  <TransferJob>
    <APName>
      <Name>SH</Name>
      <Name>JH</Name>
    </APName>
    <ServiceName>data.GetSCAttendList</ServiceName>
    <RequestAddDefault>True</RequestAddDefault>
    <Request></Request>
    <DBTableName>sc_attend_ischool</DBTableName>
    <Action>Insert</Action>
    <RspElementName>SCAttend</RspElementName>
    <FieldMapping>
      <Field Source="StudentLoginName" Target="ref_student_login_name" Type="String" />
      <Field Source="CourseName" Target="ref_course_course_name" Type="String" />
      <Field Source="Score" Target="ischool_score" Type="Integer" />
    </FieldMapping>    
  </TransferJob>
  <TransferJob>
    <APName>
      <Name>SH</Name>
      <Name>JH</Name>
    </APName>
    <ServiceName>data.GetAttendanceList</ServiceName>
    <RequestAddDefault>True</RequestAddDefault>
    <Request></Request>
    <DBTableName>attendance_ischool</DBTableName>
    <Action>Insert</Action>
    <RspElementName>Attendance</RspElementName>
    <FieldMapping>
      <Field Source="LoginName" Target="ref_student_login_name" Type="String" />
      <Field Source="OccurDate" Target="occur_date" Type="String" />
      <Field Source="Detail" Target="detail" Type="String" />
    </FieldMapping>
  </TransferJob>
  <TransferJob>
    <APName>      
      <Name>SH</Name>
    </APName>
    <ServiceName>data.GetStudUserDefineDataSH</ServiceName>
    <Request>
      <Condition>
        <FieldName>家長電子信箱</FieldName>
        <FieldName>家長電子信箱二</FieldName>
      </Condition>
    </Request>
    <DBTableName>student</DBTableName>
    <Action>Update</Action>
    <RspElementName>StudentExts</RspElementName>
    <FieldMapping>      
      <Field Source ="FieldName" SourceField="家長電子信箱" SourceValue="Value" SourceConditionField="LoginName" TargetConditionField ="login_name" Target="father_mail" Type="String"/>
      <Field Source ="FieldName" SourceField="家長電子信箱二" SourceValue="Value" SourceConditionField="LoginName" TargetConditionField ="login_name" Target="mother_mail" Type="String"/>
    </FieldMapping>
  </TransferJob>
  <TransferJob>
    <APName>      
      <Name>JH</Name>
    </APName>
    <ServiceName>data.GetStudUserDefineDataJH</ServiceName>
    <Request>
      <Condition>
        <FieldName>家長電子信箱</FieldName>
        <FieldName>家長電子信箱二</FieldName>
      </Condition>
    </Request>
    <DBTableName>student</DBTableName>
    <Action>Update</Action>
    <RspElementName>StudentExts</RspElementName>
    <FieldMapping>
      <Field Source ="FieldName" SourceField="家長電子信箱" SourceValue="Value" SourceConditionField="LoginName" TargetConditionField ="login_name" Target="father_mail" Type="String"/>
      <Field Source ="FieldName" SourceField="家長電子信箱二" SourceValue="Value" SourceConditionField="LoginName" TargetConditionField ="login_name" Target="mother_mail" Type="String"/>
    </FieldMapping>
  </TransferJob>  
</Configuration>